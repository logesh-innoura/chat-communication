{"ast":null,"code":"/*! @azure/msal-browser v3.7.0 2024-01-09 */\n'use strict';\n\nimport { LogLevel, Logger } from '@azure/msal-common';\nimport { buildConfiguration } from '../config/Configuration.mjs';\nimport { name, version } from '../packageMetadata.mjs';\nimport { BrowserCacheLocation, LOG_LEVEL_CACHE_KEY, LOG_PII_CACHE_KEY } from '../utils/BrowserConstants.mjs';\n\n/*\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License.\r\n */\n/**\r\n * Base class for operating context\r\n * Operating contexts are contexts in which MSAL.js is being run\r\n * More than one operating context may be available at a time\r\n * It's important from a logging and telemetry point of view for us to be able to identify the operating context.\r\n * For example: Some operating contexts will pre-cache tokens impacting performance telemetry\r\n */\nclass BaseOperatingContext {\n  static loggerCallback(level, message) {\n    switch (level) {\n      case LogLevel.Error:\n        // eslint-disable-next-line no-console\n        console.error(message);\n        return;\n      case LogLevel.Info:\n        // eslint-disable-next-line no-console\n        console.info(message);\n        return;\n      case LogLevel.Verbose:\n        // eslint-disable-next-line no-console\n        console.debug(message);\n        return;\n      case LogLevel.Warning:\n        // eslint-disable-next-line no-console\n        console.warn(message);\n        return;\n      default:\n        // eslint-disable-next-line no-console\n        console.log(message);\n        return;\n    }\n  }\n  constructor(config) {\n    /*\r\n     * If loaded in an environment where window is not available,\r\n     * set internal flag to false so that further requests fail.\r\n     * This is to support server-side rendering environments.\r\n     */\n    this.browserEnvironment = typeof window !== \"undefined\";\n    this.config = buildConfiguration(config, this.browserEnvironment);\n    let sessionStorage;\n    try {\n      sessionStorage = window[BrowserCacheLocation.SessionStorage];\n      // Mute errors if it's a non-browser environment or cookies are blocked.\n    } catch (e) {}\n    const logLevelKey = sessionStorage?.getItem(LOG_LEVEL_CACHE_KEY);\n    const piiLoggingKey = sessionStorage?.getItem(LOG_PII_CACHE_KEY)?.toLowerCase();\n    const piiLoggingEnabled = piiLoggingKey === \"true\" ? true : piiLoggingKey === \"false\" ? false : undefined;\n    const loggerOptions = {\n      ...this.config.system.loggerOptions\n    };\n    const logLevel = logLevelKey && Object.keys(LogLevel).includes(logLevelKey) ? LogLevel[logLevelKey] : undefined;\n    if (logLevel) {\n      loggerOptions.loggerCallback = BaseOperatingContext.loggerCallback;\n      loggerOptions.logLevel = logLevel;\n    }\n    if (piiLoggingEnabled !== undefined) {\n      loggerOptions.piiLoggingEnabled = piiLoggingEnabled;\n    }\n    this.logger = new Logger(loggerOptions, name, version);\n    this.available = false;\n  }\n  /**\r\n   * Return the MSAL config\r\n   * @returns BrowserConfiguration\r\n   */\n  getConfig() {\n    return this.config;\n  }\n  /**\r\n   * Returns the MSAL Logger\r\n   * @returns Logger\r\n   */\n  getLogger() {\n    return this.logger;\n  }\n  isAvailable() {\n    return this.available;\n  }\n  isBrowserEnvironment() {\n    return this.browserEnvironment;\n  }\n}\nexport { BaseOperatingContext };","map":{"version":3,"names":["BaseOperatingContext","loggerCallback","level","message","LogLevel","Error","console","error","Info","info","Verbose","debug","Warning","warn","log","constructor","config","browserEnvironment","window","buildConfiguration","sessionStorage","BrowserCacheLocation","SessionStorage","e","logLevelKey","getItem","LOG_LEVEL_CACHE_KEY","piiLoggingKey","LOG_PII_CACHE_KEY","toLowerCase","piiLoggingEnabled","undefined","loggerOptions","system","logLevel","Object","keys","includes","logger","Logger","name","version","available","getConfig","getLogger","isAvailable","isBrowserEnvironment"],"sources":["D:\\selvakumar\\java-chat-repo\\websocket-springboot-01\\Java-chatapp\\chatclient\\node_modules\\@azure\\msal-browser\\src\\operatingcontext\\BaseOperatingContext.ts"],"sourcesContent":["/*\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License.\r\n */\r\n\r\nimport { Logger, LogLevel } from \"@azure/msal-common\";\r\nimport {\r\n    BrowserConfiguration,\r\n    buildConfiguration,\r\n    Configuration,\r\n} from \"../config/Configuration\";\r\nimport { version, name } from \"../packageMetadata\";\r\nimport {\r\n    BrowserCacheLocation,\r\n    LOG_LEVEL_CACHE_KEY,\r\n    LOG_PII_CACHE_KEY,\r\n} from \"../utils/BrowserConstants\";\r\n\r\n/**\r\n * Base class for operating context\r\n * Operating contexts are contexts in which MSAL.js is being run\r\n * More than one operating context may be available at a time\r\n * It's important from a logging and telemetry point of view for us to be able to identify the operating context.\r\n * For example: Some operating contexts will pre-cache tokens impacting performance telemetry\r\n */\r\nexport abstract class BaseOperatingContext {\r\n    protected logger: Logger;\r\n    protected config: BrowserConfiguration;\r\n    protected available: boolean;\r\n    protected browserEnvironment: boolean;\r\n\r\n    protected static loggerCallback(level: LogLevel, message: string): void {\r\n        switch (level) {\r\n            case LogLevel.Error:\r\n                // eslint-disable-next-line no-console\r\n                console.error(message);\r\n                return;\r\n            case LogLevel.Info:\r\n                // eslint-disable-next-line no-console\r\n                console.info(message);\r\n                return;\r\n            case LogLevel.Verbose:\r\n                // eslint-disable-next-line no-console\r\n                console.debug(message);\r\n                return;\r\n            case LogLevel.Warning:\r\n                // eslint-disable-next-line no-console\r\n                console.warn(message);\r\n                return;\r\n            default:\r\n                // eslint-disable-next-line no-console\r\n                console.log(message);\r\n                return;\r\n        }\r\n    }\r\n\r\n    constructor(config: Configuration) {\r\n        /*\r\n         * If loaded in an environment where window is not available,\r\n         * set internal flag to false so that further requests fail.\r\n         * This is to support server-side rendering environments.\r\n         */\r\n        this.browserEnvironment = typeof window !== \"undefined\";\r\n        this.config = buildConfiguration(config, this.browserEnvironment);\r\n\r\n        let sessionStorage: Storage | undefined;\r\n        try {\r\n            sessionStorage = window[BrowserCacheLocation.SessionStorage];\r\n            // Mute errors if it's a non-browser environment or cookies are blocked.\r\n        } catch (e) {}\r\n\r\n        const logLevelKey = sessionStorage?.getItem(LOG_LEVEL_CACHE_KEY);\r\n        const piiLoggingKey = sessionStorage\r\n            ?.getItem(LOG_PII_CACHE_KEY)\r\n            ?.toLowerCase();\r\n\r\n        const piiLoggingEnabled =\r\n            piiLoggingKey === \"true\"\r\n                ? true\r\n                : piiLoggingKey === \"false\"\r\n                ? false\r\n                : undefined;\r\n        const loggerOptions = { ...this.config.system.loggerOptions };\r\n\r\n        const logLevel =\r\n            logLevelKey && Object.keys(LogLevel).includes(logLevelKey)\r\n                ? LogLevel[logLevelKey]\r\n                : undefined;\r\n        if (logLevel) {\r\n            loggerOptions.loggerCallback = BaseOperatingContext.loggerCallback;\r\n            loggerOptions.logLevel = logLevel;\r\n        }\r\n        if (piiLoggingEnabled !== undefined) {\r\n            loggerOptions.piiLoggingEnabled = piiLoggingEnabled;\r\n        }\r\n\r\n        this.logger = new Logger(loggerOptions, name, version);\r\n        this.available = false;\r\n    }\r\n\r\n    /**\r\n     * returns the name of the module containing the API controller associated with this operating context\r\n     */\r\n    abstract getModuleName(): string;\r\n\r\n    /**\r\n     * returns the string identifier of this operating context\r\n     */\r\n    abstract getId(): string;\r\n\r\n    /**\r\n     * returns a boolean indicating whether this operating context is present\r\n     */\r\n    abstract initialize(): Promise<boolean>;\r\n\r\n    /**\r\n     * Return the MSAL config\r\n     * @returns BrowserConfiguration\r\n     */\r\n    getConfig(): BrowserConfiguration {\r\n        return this.config;\r\n    }\r\n\r\n    /**\r\n     * Returns the MSAL Logger\r\n     * @returns Logger\r\n     */\r\n    getLogger(): Logger {\r\n        return this.logger;\r\n    }\r\n\r\n    isAvailable(): boolean {\r\n        return this.available;\r\n    }\r\n\r\n    isBrowserEnvironment(): boolean {\r\n        return this.browserEnvironment;\r\n    }\r\n}\r\n"],"mappings":";;;;;;;;AAAA;;;AAGG;AAeH;;;;;;AAMG;MACmBA,oBAAoB;EAM5B,OAAOC,cAAcA,CAACC,KAAe,EAAEC,OAAe;IAC5D,QAAQD,KAAK;MACT,KAAKE,QAAQ,CAACC,KAAK;;QAEfC,OAAO,CAACC,KAAK,CAACJ,OAAO,CAAC;QACtB;MACJ,KAAKC,QAAQ,CAACI,IAAI;;QAEdF,OAAO,CAACG,IAAI,CAACN,OAAO,CAAC;QACrB;MACJ,KAAKC,QAAQ,CAACM,OAAO;;QAEjBJ,OAAO,CAACK,KAAK,CAACR,OAAO,CAAC;QACtB;MACJ,KAAKC,QAAQ,CAACQ,OAAO;;QAEjBN,OAAO,CAACO,IAAI,CAACV,OAAO,CAAC;QACrB;MACJ;;QAEIG,OAAO,CAACQ,GAAG,CAACX,OAAO,CAAC;QACpB;IACP;;EAGLY,YAAYC,MAAqB;IAC7B;;;;AAIG;IACH,IAAI,CAACC,kBAAkB,GAAG,OAAOC,MAAM,KAAK,WAAW;IACvD,IAAI,CAACF,MAAM,GAAGG,kBAAkB,CAACH,MAAM,EAAE,IAAI,CAACC,kBAAkB,CAAC;IAEjE,IAAIG,cAAmC;IACvC,IAAI;MACAA,cAAc,GAAGF,MAAM,CAACG,oBAAoB,CAACC,cAAc,CAAC;;IAE/D,EAAC,OAAOC,CAAC,EAAE;IAEZ,MAAMC,WAAW,GAAGJ,cAAc,EAAEK,OAAO,CAACC,mBAAmB,CAAC;IAChE,MAAMC,aAAa,GAAGP,cAAc,EAC9BK,OAAO,CAACG,iBAAiB,CAAC,EAC1BC,WAAW,EAAE;IAEnB,MAAMC,iBAAiB,GACnBH,aAAa,KAAK,MAAM,GAClB,IAAI,GACJA,aAAa,KAAK,OAAO,GACzB,KAAK,GACLI,SAAS;IACnB,MAAMC,aAAa,GAAG;MAAE,GAAG,IAAI,CAAChB,MAAM,CAACiB,MAAM,CAACD;IAAa,CAAE;IAE7D,MAAME,QAAQ,GACVV,WAAW,IAAIW,MAAM,CAACC,IAAI,CAAChC,QAAQ,CAAC,CAACiC,QAAQ,CAACb,WAAW,CAAC,GACpDpB,QAAQ,CAACoB,WAAW,CAAC,GACrBO,SAAS;IACnB,IAAIG,QAAQ,EAAE;MACVF,aAAa,CAAC/B,cAAc,GAAGD,oBAAoB,CAACC,cAAc;MAClE+B,aAAa,CAACE,QAAQ,GAAGA,QAAQ;IACpC;IACD,IAAIJ,iBAAiB,KAAKC,SAAS,EAAE;MACjCC,aAAa,CAACF,iBAAiB,GAAGA,iBAAiB;IACtD;IAED,IAAI,CAACQ,MAAM,GAAG,IAAIC,MAAM,CAACP,aAAa,EAAEQ,IAAI,EAAEC,OAAO,CAAC;IACtD,IAAI,CAACC,SAAS,GAAG,KAAK;;EAkB1B;;;AAGG;EACHC,SAASA,CAAA;IACL,OAAO,IAAI,CAAC3B,MAAM;;EAGtB;;;AAGG;EACH4B,SAASA,CAAA;IACL,OAAO,IAAI,CAACN,MAAM;;EAGtBO,WAAWA,CAAA;IACP,OAAO,IAAI,CAACH,SAAS;;EAGzBI,oBAAoBA,CAAA;IAChB,OAAO,IAAI,CAAC7B,kBAAkB;;AAErC"},"metadata":{},"sourceType":"module","externalDependencies":[]}