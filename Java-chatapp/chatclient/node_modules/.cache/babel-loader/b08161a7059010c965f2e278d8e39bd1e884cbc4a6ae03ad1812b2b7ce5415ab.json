{"ast":null,"code":"/*! @azure/msal-common v14.6.0 2024-01-09 */\n'use strict';\n\nimport { Constants } from '../utils/Constants.mjs';\nimport { AuthError } from './AuthError.mjs';\nimport { noTokensFound, nativeAccountUnavailable, badToken, refreshTokenExpired, interactionRequired, consentRequired, loginRequired } from './InteractionRequiredAuthErrorCodes.mjs';\nimport * as InteractionRequiredAuthErrorCodes from './InteractionRequiredAuthErrorCodes.mjs';\nexport { InteractionRequiredAuthErrorCodes };\n\n/*\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License.\r\n */\n/**\r\n * InteractionRequiredServerErrorMessage contains string constants used by error codes and messages returned by the server indicating interaction is required\r\n */\nconst InteractionRequiredServerErrorMessage = [interactionRequired, consentRequired, loginRequired, badToken];\nconst InteractionRequiredAuthSubErrorMessage = [\"message_only\", \"additional_action\", \"basic_action\", \"user_password_expired\", \"consent_required\", \"bad_token\"];\nconst InteractionRequiredAuthErrorMessages = {\n  [noTokensFound]: \"No refresh token found in the cache. Please sign-in.\",\n  [nativeAccountUnavailable]: \"The requested account is not available in the native broker. It may have been deleted or logged out. Please sign-in again using an interactive API.\",\n  [refreshTokenExpired]: \"Refresh token has expired.\",\n  [badToken]: \"Identity provider returned bad_token due to an expired or invalid refresh token. Please invoke an interactive API to resolve.\"\n};\n/**\r\n * Interaction required errors defined by the SDK\r\n * @deprecated Use InteractionRequiredAuthErrorCodes instead\r\n */\nconst InteractionRequiredAuthErrorMessage = {\n  noTokensFoundError: {\n    code: noTokensFound,\n    desc: InteractionRequiredAuthErrorMessages[noTokensFound]\n  },\n  native_account_unavailable: {\n    code: nativeAccountUnavailable,\n    desc: InteractionRequiredAuthErrorMessages[nativeAccountUnavailable]\n  },\n  bad_token: {\n    code: badToken,\n    desc: InteractionRequiredAuthErrorMessages[badToken]\n  }\n};\n/**\r\n * Error thrown when user interaction is required.\r\n */\nclass InteractionRequiredAuthError extends AuthError {\n  constructor(errorCode, errorMessage, subError, timestamp, traceId, correlationId, claims) {\n    super(errorCode, errorMessage, subError);\n    Object.setPrototypeOf(this, InteractionRequiredAuthError.prototype);\n    this.timestamp = timestamp || Constants.EMPTY_STRING;\n    this.traceId = traceId || Constants.EMPTY_STRING;\n    this.correlationId = correlationId || Constants.EMPTY_STRING;\n    this.claims = claims || Constants.EMPTY_STRING;\n    this.name = \"InteractionRequiredAuthError\";\n  }\n}\n/**\r\n * Helper function used to determine if an error thrown by the server requires interaction to resolve\r\n * @param errorCode\r\n * @param errorString\r\n * @param subError\r\n */\nfunction isInteractionRequiredError(errorCode, errorString, subError) {\n  const isInteractionRequiredErrorCode = !!errorCode && InteractionRequiredServerErrorMessage.indexOf(errorCode) > -1;\n  const isInteractionRequiredSubError = !!subError && InteractionRequiredAuthSubErrorMessage.indexOf(subError) > -1;\n  const isInteractionRequiredErrorDesc = !!errorString && InteractionRequiredServerErrorMessage.some(irErrorCode => {\n    return errorString.indexOf(irErrorCode) > -1;\n  });\n  return isInteractionRequiredErrorCode || isInteractionRequiredErrorDesc || isInteractionRequiredSubError;\n}\n/**\r\n * Creates an InteractionRequiredAuthError\r\n */\nfunction createInteractionRequiredAuthError(errorCode) {\n  return new InteractionRequiredAuthError(errorCode, InteractionRequiredAuthErrorMessages[errorCode]);\n}\nexport { InteractionRequiredAuthError, InteractionRequiredAuthErrorMessage, InteractionRequiredAuthSubErrorMessage, InteractionRequiredServerErrorMessage, createInteractionRequiredAuthError, isInteractionRequiredError };","map":{"version":3,"names":["InteractionRequiredServerErrorMessage","interactionRequired","consentRequired","loginRequired","badToken","InteractionRequiredAuthSubErrorMessage","InteractionRequiredAuthErrorMessages","noTokensFound","nativeAccountUnavailable","refreshTokenExpired","InteractionRequiredAuthErrorMessage","noTokensFoundError","code","desc","native_account_unavailable","bad_token","InteractionRequiredAuthError","AuthError","constructor","errorCode","errorMessage","subError","timestamp","traceId","correlationId","claims","Object","setPrototypeOf","prototype","Constants","EMPTY_STRING","name","isInteractionRequiredError","errorString","isInteractionRequiredErrorCode","indexOf","isInteractionRequiredSubError","isInteractionRequiredErrorDesc","some","irErrorCode","createInteractionRequiredAuthError"],"sources":["D:\\selvakumar\\java-chat-repo\\websocket-springboot-01\\Java-chatapp\\chatclient\\node_modules\\@azure\\msal-common\\src\\error\\InteractionRequiredAuthError.ts"],"sourcesContent":["/*\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License.\r\n */\r\n\r\nimport { Constants } from \"../utils/Constants\";\r\nimport { AuthError } from \"./AuthError\";\r\nimport * as InteractionRequiredAuthErrorCodes from \"./InteractionRequiredAuthErrorCodes\";\r\nexport { InteractionRequiredAuthErrorCodes };\r\n\r\n/**\r\n * InteractionRequiredServerErrorMessage contains string constants used by error codes and messages returned by the server indicating interaction is required\r\n */\r\nexport const InteractionRequiredServerErrorMessage = [\r\n    InteractionRequiredAuthErrorCodes.interactionRequired,\r\n    InteractionRequiredAuthErrorCodes.consentRequired,\r\n    InteractionRequiredAuthErrorCodes.loginRequired,\r\n    InteractionRequiredAuthErrorCodes.badToken,\r\n];\r\n\r\nexport const InteractionRequiredAuthSubErrorMessage = [\r\n    \"message_only\",\r\n    \"additional_action\",\r\n    \"basic_action\",\r\n    \"user_password_expired\",\r\n    \"consent_required\",\r\n    \"bad_token\",\r\n];\r\n\r\nconst InteractionRequiredAuthErrorMessages = {\r\n    [InteractionRequiredAuthErrorCodes.noTokensFound]:\r\n        \"No refresh token found in the cache. Please sign-in.\",\r\n    [InteractionRequiredAuthErrorCodes.nativeAccountUnavailable]:\r\n        \"The requested account is not available in the native broker. It may have been deleted or logged out. Please sign-in again using an interactive API.\",\r\n    [InteractionRequiredAuthErrorCodes.refreshTokenExpired]:\r\n        \"Refresh token has expired.\",\r\n    [InteractionRequiredAuthErrorCodes.badToken]:\r\n        \"Identity provider returned bad_token due to an expired or invalid refresh token. Please invoke an interactive API to resolve.\",\r\n};\r\n\r\n/**\r\n * Interaction required errors defined by the SDK\r\n * @deprecated Use InteractionRequiredAuthErrorCodes instead\r\n */\r\nexport const InteractionRequiredAuthErrorMessage = {\r\n    noTokensFoundError: {\r\n        code: InteractionRequiredAuthErrorCodes.noTokensFound,\r\n        desc: InteractionRequiredAuthErrorMessages[\r\n            InteractionRequiredAuthErrorCodes.noTokensFound\r\n        ],\r\n    },\r\n    native_account_unavailable: {\r\n        code: InteractionRequiredAuthErrorCodes.nativeAccountUnavailable,\r\n        desc: InteractionRequiredAuthErrorMessages[\r\n            InteractionRequiredAuthErrorCodes.nativeAccountUnavailable\r\n        ],\r\n    },\r\n    bad_token: {\r\n        code: InteractionRequiredAuthErrorCodes.badToken,\r\n        desc: InteractionRequiredAuthErrorMessages[\r\n            InteractionRequiredAuthErrorCodes.badToken\r\n        ],\r\n    },\r\n};\r\n\r\n/**\r\n * Error thrown when user interaction is required.\r\n */\r\nexport class InteractionRequiredAuthError extends AuthError {\r\n    /**\r\n     * The time the error occured at\r\n     */\r\n    timestamp: string;\r\n\r\n    /**\r\n     * TraceId associated with the error\r\n     */\r\n    traceId: string;\r\n\r\n    /**\r\n     * https://github.com/AzureAD/microsoft-authentication-library-for-js/blob/dev/lib/msal-common/docs/claims-challenge.md\r\n     *\r\n     * A string with extra claims needed for the token request to succeed\r\n     * web site: redirect the user to the authorization page and set the extra claims\r\n     * web api: include the claims in the WWW-Authenticate header that are sent back to the client so that it knows to request a token with the extra claims\r\n     * desktop application or browser context: include the claims when acquiring the token interactively\r\n     * app to app context (client_credentials): include the claims in the AcquireTokenByClientCredential request\r\n     */\r\n    claims: string;\r\n\r\n    constructor(\r\n        errorCode?: string,\r\n        errorMessage?: string,\r\n        subError?: string,\r\n        timestamp?: string,\r\n        traceId?: string,\r\n        correlationId?: string,\r\n        claims?: string\r\n    ) {\r\n        super(errorCode, errorMessage, subError);\r\n        Object.setPrototypeOf(this, InteractionRequiredAuthError.prototype);\r\n\r\n        this.timestamp = timestamp || Constants.EMPTY_STRING;\r\n        this.traceId = traceId || Constants.EMPTY_STRING;\r\n        this.correlationId = correlationId || Constants.EMPTY_STRING;\r\n        this.claims = claims || Constants.EMPTY_STRING;\r\n        this.name = \"InteractionRequiredAuthError\";\r\n    }\r\n}\r\n\r\n/**\r\n * Helper function used to determine if an error thrown by the server requires interaction to resolve\r\n * @param errorCode\r\n * @param errorString\r\n * @param subError\r\n */\r\nexport function isInteractionRequiredError(\r\n    errorCode?: string,\r\n    errorString?: string,\r\n    subError?: string\r\n): boolean {\r\n    const isInteractionRequiredErrorCode =\r\n        !!errorCode &&\r\n        InteractionRequiredServerErrorMessage.indexOf(errorCode) > -1;\r\n    const isInteractionRequiredSubError =\r\n        !!subError &&\r\n        InteractionRequiredAuthSubErrorMessage.indexOf(subError) > -1;\r\n    const isInteractionRequiredErrorDesc =\r\n        !!errorString &&\r\n        InteractionRequiredServerErrorMessage.some((irErrorCode) => {\r\n            return errorString.indexOf(irErrorCode) > -1;\r\n        });\r\n\r\n    return (\r\n        isInteractionRequiredErrorCode ||\r\n        isInteractionRequiredErrorDesc ||\r\n        isInteractionRequiredSubError\r\n    );\r\n}\r\n\r\n/**\r\n * Creates an InteractionRequiredAuthError\r\n */\r\nexport function createInteractionRequiredAuthError(\r\n    errorCode: string\r\n): InteractionRequiredAuthError {\r\n    return new InteractionRequiredAuthError(\r\n        errorCode,\r\n        InteractionRequiredAuthErrorMessages[errorCode]\r\n    );\r\n}\r\n"],"mappings":";;;;;;;;;AAAA;;;AAGG;AAOH;;AAEG;AACU,MAAAA,qCAAqC,GAAG,CACjDC,mBAAqD,EACrDC,eAAiD,EACjDC,aAA+C,EAC/CC,QAA0C,C;AAGjC,MAAAC,sCAAsC,GAAG,CAClD,cAAc,EACd,mBAAmB,EACnB,cAAc,EACd,uBAAuB,EACvB,kBAAkB,EAClB,WAAW,C;AAGf,MAAMC,oCAAoC,GAAG;EACzC,CAACC,aAA+C,GAC5C,sDAAsD;EAC1D,CAACC,wBAA0D,GACvD,qJAAqJ;EACzJ,CAACC,mBAAqD,GAClD,4BAA4B;EAChC,CAACL,QAA0C,GACvC;CACP;AAED;;;AAGG;AACU,MAAAM,mCAAmC,GAAG;EAC/CC,kBAAkB,EAAE;IAChBC,IAAI,EAAEL,aAA+C;IACrDM,IAAI,EAAEP,oCAAoC,CACtCC,aAA+C;EAEtD;EACDO,0BAA0B,EAAE;IACxBF,IAAI,EAAEJ,wBAA0D;IAChEK,IAAI,EAAEP,oCAAoC,CACtCE,wBAA0D;EAEjE;EACDO,SAAS,EAAE;IACPH,IAAI,EAAER,QAA0C;IAChDS,IAAI,EAAEP,oCAAoC,CACtCF,QAA0C;EAEjD;;AAGL;;AAEG;AACG,MAAOY,4BAA6B,SAAQC,SAAS;EAsBvDC,YACIC,SAAkB,EAClBC,YAAqB,EACrBC,QAAiB,EACjBC,SAAkB,EAClBC,OAAgB,EAChBC,aAAsB,EACtBC,MAAe;IAEf,KAAK,CAACN,SAAS,EAAEC,YAAY,EAAEC,QAAQ,CAAC;IACxCK,MAAM,CAACC,cAAc,CAAC,IAAI,EAAEX,4BAA4B,CAACY,SAAS,CAAC;IAEnE,IAAI,CAACN,SAAS,GAAGA,SAAS,IAAIO,SAAS,CAACC,YAAY;IACpD,IAAI,CAACP,OAAO,GAAGA,OAAO,IAAIM,SAAS,CAACC,YAAY;IAChD,IAAI,CAACN,aAAa,GAAGA,aAAa,IAAIK,SAAS,CAACC,YAAY;IAC5D,IAAI,CAACL,MAAM,GAAGA,MAAM,IAAII,SAAS,CAACC,YAAY;IAC9C,IAAI,CAACC,IAAI,GAAG,8BAA8B;;AAEjD;AAED;;;;;AAKG;SACaC,0BAA0BA,CACtCb,SAAkB,EAClBc,WAAoB,EACpBZ,QAAiB;EAEjB,MAAMa,8BAA8B,GAChC,CAAC,CAACf,SAAS,IACXnB,qCAAqC,CAACmC,OAAO,CAAChB,SAAS,CAAC,GAAG,CAAC,CAAC;EACjE,MAAMiB,6BAA6B,GAC/B,CAAC,CAACf,QAAQ,IACVhB,sCAAsC,CAAC8B,OAAO,CAACd,QAAQ,CAAC,GAAG,CAAC,CAAC;EACjE,MAAMgB,8BAA8B,GAChC,CAAC,CAACJ,WAAW,IACbjC,qCAAqC,CAACsC,IAAI,CAAEC,WAAW,IAAI;IACvD,OAAON,WAAW,CAACE,OAAO,CAACI,WAAW,CAAC,GAAG,CAAC,CAAC;EAChD,CAAC,CAAC;EAEN,OACIL,8BAA8B,IAC9BG,8BAA8B,IAC9BD,6BAA6B;AAErC;AAEA;;AAEG;AACG,SAAUI,kCAAkCA,CAC9CrB,SAAiB;EAEjB,OAAO,IAAIH,4BAA4B,CACnCG,SAAS,EACTb,oCAAoC,CAACa,SAAS,CAAC,CAClD;AACL"},"metadata":{},"sourceType":"module","externalDependencies":[]}