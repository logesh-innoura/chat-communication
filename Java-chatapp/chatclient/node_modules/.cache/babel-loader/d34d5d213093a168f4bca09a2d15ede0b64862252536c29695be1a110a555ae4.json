{"ast":null,"code":"/*! @azure/msal-browser v3.7.0 2024-01-09 */\n'use strict';\n\nimport { AsyncMemoryStorage } from './AsyncMemoryStorage.mjs';\n\n/*\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License.\r\n */\nconst CryptoKeyStoreNames = {\n  asymmetricKeys: \"asymmetricKeys\",\n  symmetricKeys: \"symmetricKeys\"\n};\n/**\r\n * MSAL CryptoKeyStore DB Version 2\r\n */\nclass CryptoKeyStore {\n  constructor(logger) {\n    this.logger = logger;\n    this.asymmetricKeys = new AsyncMemoryStorage(this.logger, CryptoKeyStoreNames.asymmetricKeys);\n    this.symmetricKeys = new AsyncMemoryStorage(this.logger, CryptoKeyStoreNames.symmetricKeys);\n  }\n  async clear() {\n    // Delete in-memory keystores\n    this.asymmetricKeys.clearInMemory();\n    this.symmetricKeys.clearInMemory();\n    /**\r\n     * There is only one database, so calling clearPersistent on asymmetric keystore takes care of\r\n     * every persistent keystore\r\n     */\n    try {\n      await this.asymmetricKeys.clearPersistent();\n      return true;\n    } catch (e) {\n      if (e instanceof Error) {\n        this.logger.error(`Clearing keystore failed with error: ${e.message}`);\n      } else {\n        this.logger.error(\"Clearing keystore failed with unknown error\");\n      }\n      return false;\n    }\n  }\n}\nexport { CryptoKeyStore, CryptoKeyStoreNames };","map":{"version":3,"names":["CryptoKeyStoreNames","asymmetricKeys","symmetricKeys","CryptoKeyStore","constructor","logger","AsyncMemoryStorage","clear","clearInMemory","clearPersistent","e","Error","error","message"],"sources":["D:\\selvakumar\\java-chat-repo\\websocket-springboot-01\\Java-chatapp\\chatclient\\node_modules\\@azure\\msal-browser\\src\\cache\\CryptoKeyStore.ts"],"sourcesContent":["/*\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License.\r\n */\r\n\r\nimport { Logger } from \"@azure/msal-common\";\r\nimport { CachedKeyPair } from \"../crypto/CryptoOps\";\r\nimport { AsyncMemoryStorage } from \"./AsyncMemoryStorage\";\r\n\r\nexport const CryptoKeyStoreNames = {\r\n    asymmetricKeys: \"asymmetricKeys\",\r\n    symmetricKeys: \"symmetricKeys\",\r\n} as const;\r\nexport type CryptoKeyStoreNames =\r\n    (typeof CryptoKeyStoreNames)[keyof typeof CryptoKeyStoreNames];\r\n\r\n/**\r\n * MSAL CryptoKeyStore DB Version 2\r\n */\r\nexport class CryptoKeyStore {\r\n    public asymmetricKeys: AsyncMemoryStorage<CachedKeyPair>;\r\n    public symmetricKeys: AsyncMemoryStorage<CryptoKey>;\r\n    public logger: Logger;\r\n\r\n    constructor(logger: Logger) {\r\n        this.logger = logger;\r\n        this.asymmetricKeys = new AsyncMemoryStorage<CachedKeyPair>(\r\n            this.logger,\r\n            CryptoKeyStoreNames.asymmetricKeys\r\n        );\r\n        this.symmetricKeys = new AsyncMemoryStorage<CryptoKey>(\r\n            this.logger,\r\n            CryptoKeyStoreNames.symmetricKeys\r\n        );\r\n    }\r\n\r\n    async clear(): Promise<boolean> {\r\n        // Delete in-memory keystores\r\n        this.asymmetricKeys.clearInMemory();\r\n        this.symmetricKeys.clearInMemory();\r\n\r\n        /**\r\n         * There is only one database, so calling clearPersistent on asymmetric keystore takes care of\r\n         * every persistent keystore\r\n         */\r\n        try {\r\n            await this.asymmetricKeys.clearPersistent();\r\n            return true;\r\n        } catch (e) {\r\n            if (e instanceof Error) {\r\n                this.logger.error(\r\n                    `Clearing keystore failed with error: ${e.message}`\r\n                );\r\n            } else {\r\n                this.logger.error(\r\n                    \"Clearing keystore failed with unknown error\"\r\n                );\r\n            }\r\n\r\n            return false;\r\n        }\r\n    }\r\n}\r\n"],"mappings":";;;;;AAAA;;;AAGG;AAMU,MAAAA,mBAAmB,GAAG;EAC/BC,cAAc,EAAE,gBAAgB;EAChCC,aAAa,EAAE;;AAKnB;;AAEG;MACUC,cAAc;EAKvBC,YAAYC,MAAc;IACtB,IAAI,CAACA,MAAM,GAAGA,MAAM;IACpB,IAAI,CAACJ,cAAc,GAAG,IAAIK,kBAAkB,CACxC,IAAI,CAACD,MAAM,EACXL,mBAAmB,CAACC,cAAc,CACrC;IACD,IAAI,CAACC,aAAa,GAAG,IAAII,kBAAkB,CACvC,IAAI,CAACD,MAAM,EACXL,mBAAmB,CAACE,aAAa,CACpC;;EAGL,MAAMK,KAAKA,CAAA;;IAEP,IAAI,CAACN,cAAc,CAACO,aAAa,EAAE;IACnC,IAAI,CAACN,aAAa,CAACM,aAAa,EAAE;IAElC;;;AAGG;IACH,IAAI;MACA,MAAM,IAAI,CAACP,cAAc,CAACQ,eAAe,EAAE;MAC3C,OAAO,IAAI;IACd,EAAC,OAAOC,CAAC,EAAE;MACR,IAAIA,CAAC,YAAYC,KAAK,EAAE;QACpB,IAAI,CAACN,MAAM,CAACO,KAAK,CAC2B,wCAAAF,CAAC,CAACG,OAAS,GACtD;MACJ,OAAM;QACH,IAAI,CAACR,MAAM,CAACO,KAAK,CACb,6CAA6C,CAChD;MACJ;MAED,OAAO,KAAK;IACf;;AAER"},"metadata":{},"sourceType":"module","externalDependencies":[]}